<head>
  <link rel="stylesheet" type="text/css" href="jermaine.css">
</head>

<p id="notice"><%= notice %></p>
<body>
<p>
  <strong>Description:</strong>
  <%= @picture.description %>
</p>

<p>
  <strong>Location:</strong>
  <%= @picture.location %>
</p>


<p>
  <strong>Picture</strong>
<div id="showpic"> <%= image_tag @picture.url %></div>
</p>

<%= link_to 'Edit', edit_picture_path(@picture) %> |
<%= link_to 'Back', pictures_path %>

  <div id="floating-panel">
    <input id="address" type="textbox" value="Miami, FL">
    <input id="submit" type="button" value="Geocode">
  </div>
  <div id="map"></div>

  <style>
  html, body {
    height: 100%;
    padding: 0;
    /*width: 750px;*/
    /*margin-left: auto;
    margin-right: auto;*/

  }

  #map {
    margin-left: 250px;
    margin-right: 250px;
    height: 50%;
  }
  #floating-panel {
  /*position: absolute;*/
  top: 10px;
  left: 25%;
  z-index: 5;
  background-color: #fff;
  padding: 5px;
  border: 1px solid #999;
  text-align: center;
  font-family: 'Roboto','sans-serif';
  line-height: 30px;
  padding-left: 10px;
  }

    </style>

  <script>
function initMap() {
var map = new google.maps.Map(document.getElementById('map'), {
  zoom: 13,
  center: {lat: 25.801142, lng: -80.202244}
});
var geocoder = new google.maps.Geocoder();

document.getElementById('submit').addEventListener('click', function() {
  geocodeAddress(geocoder, map);
});
}

function geocodeAddress(geocoder, resultsMap) {
var address = document.getElementById('address').value;
geocoder.geocode({'address': address}, function(results, status) {
  if (status === google.maps.GeocoderStatus.OK) {
    resultsMap.setCenter(results[0].geometry.location);
    var marker = new google.maps.Marker({
      map: resultsMap,
      position: results[0].geometry.location
    });
  } else {
    alert('Geocode was not successful for the following reason: ' + status);
  }
});
}

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=    AIzaSyAI5fN1yyPrUoHIFo-nS1wq8vJ6o--0ae4&signed_in=true&callback=initMap"
      async defer></script>
</body>
